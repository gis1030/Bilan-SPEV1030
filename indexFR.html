<!doctype html>
<html lang="en">

<head>
    <title>SPEV Schaerbeek</title>
    <link rel="shortcut icon" href="css/images/logo1030GeoData.ico" type="image/x-icon">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="initial-scale=1,user-scalable=no,maximum-scale=1,width=device-width">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <link rel="stylesheet" href="css/leaflet.css">
    <link rel="stylesheet" href="css/L.Control.Layers.Tree.css">
    <link rel="stylesheet" href="css/qgis2web.css">
    <link rel="stylesheet" href="css/fontawesome-all.min.css">
    <link rel="stylesheet" href="css/leaflet-search.css">
    <link rel="stylesheet" href="css/leaflet.photon.css">
    <style>
        html,
        body,
        #map {
            flex-grow: 1;
            width: 100%;
            height: 100%;
            padding: 0;
            margin: 0;
        }
    </style>
    <title>Actions de propreté publique du service communal de Schaerbeek </title>
</head>

<body>
    <div id="Region00">
        <div id="Region04">
            <div id="map"></div>
        </div>
    </div>

    <div id="Region01">
        <div class="container">
            <div class="sidebar">
                <h1>
                    <div class="logo"></div>
                    <span>Actions de propreté publique du service communal de Schaerbeek</span>
                </h1>

                <div class="data-infos">
                    <p>
                        Cette cartographie reprend les actions en termes de propreté publique
                        réalisées par le service communal Schaerbeek Propreté et Espaces
                        verts. Elle présente pour chaque rue les actions de traitement
                        (nettoiement, enlèvement des dépôts clandestins, balayage), de
                        sensibilisation et de répression.
                    </p>
                    <p>
                        Pour chaque rue, sont présentées les actions de traitement (nettoyage,
                        enlèvement des déchets sauvages, balayage), de sensibilisation et de répression.
                    </p>
                    <p>
                        Afin de préserver la confidentialité des citoyens, les informations sont
                        données par rue, sans précision du numéro.
                        Pour plus d’information n’hésitez pas à contacter notre centrale
                        d’appel au 0800 939 88.
                    </p>
                    <p></p>
                    <p>
                        1. Intervention : Action de propreté réalisée par nos équipes : ramassage d’un encombrant,
                        ramassage d’un sac mal sorti, nettoyage de la voie publique,
                        vidange d’un avaloir, enquête de la cellule verbalisation. Ces actions sont réalisées en plus
                        des missions habituelles de balayage, et d’entretien de l’espace public.
                    </p>
                    <p>
                        2. Moyenne de balayage : Moyenne mensuelle du nombre de balayage de la rue.
                    </p>
                    <p>
                        3. Taxe : Action de l’équipe de recherche et verbalisation qui a donné lieu à un PV (le déposant
                        a pu être identifié). Environ 10% des actions de la cellule répression amènent à une
                        identification.
                    </p>
                    <p>
                        4. Médiation : action des médiateurs de propreté pour sensibiliser ou informer les citoyens sur
                        une problématique de propreté publique.
                    </p>
                    <p>
                    <div class="logo3"></div>
                    </p>
                </div>
            </div>
        </div>
    </div>

    <script src="js/qgis2web_expressions.js"></script>
    <script src="js/leaflet.js"></script>
    <script src="js/L.Control.Layers.Tree.min.js"></script>
    <script src="js/leaflet-svg-shape-markers.min.js"></script>
    <script src="js/leaflet.rotatedMarker.js"></script>
    <script src="js/leaflet.pattern.js"></script>
    <script src="js/leaflet-hash.js"></script>
    <script src="js/Autolinker.min.js"></script>
    <script src="js/rbush.min.js"></script>
    <script src="js/labelgun.min.js"></script>
    <script src="js/labels.js"></script>
    <script src="js/leaflet.photon.js"></script>
    <script src="js/leaflet-search.js"></script>

    <script src="data/SchaerbekBorders/LimitesSchaerbeekQuartiers.js"></script>
    <script src="data/SchaerbekBorders/LimitesSchaerbeek.js"></script>

    <script src="data/SchaerbekBorders/SPEV/Rodenbach.js"></script>
    <script src="data/SchaerbekBorders/SPEV/Radium.js"></script>
    <script src="data/SchaerbekBorders/SPEV/Vifquin.js"></script>
    <script src="data/SchaerbekBorders/SPEV/LimitesSecteursSPEV.js"></script>
    <script src="data/SchaerbekBorders/SPEV/StreetAxesSPEV.js"></script>
	
    <script src="data/Bilan2025.js"></script>
    <script>
        var highlightLayer;
        function highlightFeature(e) {
            highlightLayer = e.target;

            if (e.target.feature.geometry.type === 'LineString' || e.target.feature.geometry.type === 'MultiLineString') {
                highlightLayer.setStyle({
                    color: '#ffff00',
                });
            } else {
                highlightLayer.setStyle({
                    fillColor: '#ffff00',
                    fillOpacity: 1
                });
            }
            highlightLayer.openPopup();
        }

        var map = L.map('map', {
            zoomControl: false, maxZoom: 23, minZoom: 1
        }).fitBounds([[50.84242805691727, 4.35343370855978], [50.88164566987217, 4.4308537948872715]]);

        var hash = new L.Hash(map);
        map.attributionControl.setPrefix('ih2© <a href="https://www.1030.be/" target="_blank" >Commune de Schaerbeek</a> &middot; <a href="https://github.com/tomchadwin/qgis2web" target="_blank">qgis2web</a> &middot; <a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a> &middot; <a href="https://qgis.org">QGIS</a>');
        var autolinker = new Autolinker({ truncate: { length: 30, location: 'smart' } });

        // remove popup's row if "visible-with-data"
        function removeEmptyRowsFromPopupContent(content, feature) {
            var tempDiv = document.createElement('div');
            tempDiv.innerHTML = content;
            var rows = tempDiv.querySelectorAll('tr');
            for (var i = 0; i < rows.length; i++) {
                var td = rows[i].querySelector('td.visible-with-data');
                var key = td ? td.id : '';
                if (td && td.classList.contains('visible-with-data') && feature.properties[key] == null) {
                    rows[i].parentNode.removeChild(rows[i]);
                }
            }
            return tempDiv.innerHTML;
        }

        // add class to format popup if it contains media
        function addClassToPopupIfMedia(content, popup) {
            var tempDiv = document.createElement('div');
            tempDiv.innerHTML = content;
            if (tempDiv.querySelector('td img')) {
                popup._contentNode.classList.add('media');
                // Delay to force the redraw
                setTimeout(function () {
                    popup.update();
                }, 10);
            } else {
                popup._contentNode.classList.remove('media');
            }
        }

        var title = new L.Control({ 'position': 'bottomleft' });
        title.onAdd = function (map) {
            this._div = L.DomUtil.create('div', 'info');
            this.update();
            return this._div;
        };
        title.update = function () {
            this._div.innerHTML = '<h2>Actions de propreté publique du service communal de Schaerbeek <br> données cumulées en 2025</h2>';
        };
        title.addTo(map);

        var abstract = new L.Control({ 'position': 'topleft' });
        abstract.onAdd = function (map) {
            this._div = L.DomUtil.create('div',
                'leaflet-control abstract');
            this._div.id = 'abstract'
            this._div.setAttribute("onmouseenter", "abstract.show()");
            this._div.setAttribute("onmouseleave", "abstract.hide()");
            this.hide();
            return this._div;
        };
        abstract.hide = function () {
            this._div.classList.remove("abstractUncollapsed");
            this._div.classList.add("abstract");
            this._div.innerHTML = 'i'
        }
        abstract.show = function () {
            this._div.classList.remove("abstract");
            this._div.classList.add("abstractUncollapsed");

            this._div.innerHTML = 'Actions de propreté publique du service communal de Schaerbeek.<br /><br />Actions en termes de propreté publique réalisées par le service communal Schaerbeek Propreté et Espaces verts.<br />Elle présente pour chaque rue les actions de traitement (nettoiement, enlèvement des dépôts clandestins, balayage), de sensibilisation et de répression.<br /><br />Pour des raisons de confidentialité, les informations sont données par rue, sans précision du numéro.<br />Pour plus d’information n’hésitez pas à contacter notre centrale d’appel au 0800 939 88.<br /><br /> 1. Inervention : Action de propreté réalisée par nos équipes : ramassage d’un encombrant, ramassage d’un sac mal sorti, nettoyage de la voie publique, <br />vidange d’un avaloir, enquête de la cellule verbalisation. Ces actions sont réalisées en plus des missions habituelles de balayage, et d’entretien de l’espace public. <br /><br /> 2. Moyenne de balayage : Moyenne mensuelle du nombre de balayage de la rue.<br /><br /> 3. Taxe : Action de l’équipe de recherche et verbalisation qui a donné lieu à un PV (le déposant a pu être identifié). Environ 10% des actions de la cellule répression amènent à une identification.<br /><br /> 4. Médiation : action des médiateurs de propreté pour sensibiliser ou informer les citoyens sur une problématique de propreté publique. ';
            // this._div.innerHTML = 'Actions de propreté publique du service communal de Schaerbeek.<br /><br />Actions en termes de propreté publique réalisées par le service communal Schaerbeek Propreté et Espaces verts. <br />Elle présente pour chaque rue les actions de traitement (nettoiement, enlèvement des dépôts clandestins, balayage), de sensibilisation et de répression.<br /><br />Pour des raisons de confidentialité, les informations sont données par rue, sans précision du numéro.<br />Pour plus d’information n’hésitez pas à contacter notre centrale d’appel au 0800 939 88.<br /><br /> 1. Intervention : Action de propreté réalisée par nos équipes : ramassage d’un encombrant, ramassage d’un sac mal sorti, nettoyage de la voie publique, vidange d’un avaloir, enquête de la cellule verbalisation. Ces actions sont réalisées en plus des missions habituelles de balayage, et d’entretien de l’espace public. <br /><br /> 2. Moyenne de balayage : Moyenne mensuelle du nombre de balayage de la rue.<br /><br /> 3. Taxe : Action de l’équipe de recherche et verbalisation qui a donné lieu à un PV (le déposant a pu être identifié). Environ 10% des actions de la cellule répression amènent à une identification.<br /><br /> 4. Médiation : action des médiateurs de propreté pour sensibiliser ou informer les citoyens sur une problématique de propreté publique. ';
        };
        //abstract.addTo(map);

        var zoomControl = L.control.zoom({
            position: 'topleft'
        }).addTo(map);

        var bounds_group = new L.featureGroup([]);
        function setBounds() {
        }

        map.createPane('pane_GoogleSatellite_0');
        map.getPane('pane_GoogleSatellite_0').style.zIndex = 400;
        var layer_GoogleSatellite_0 = L.tileLayer('http://mt0.google.com/vt/lyrs=s&hl=en&x={x}&y={y}&z={z}', {
            pane: 'pane_GoogleSatellite_0',
            opacity: 1.0,
            attribution: '',
            minZoom: 1,
            maxZoom: 23,
            minNativeZoom: 0,
            maxNativeZoom: 18
        });
        layer_GoogleSatellite_0;
        //map.addLayer(layer_GoogleSatellite_0);

        map.createPane('pane_GoogleTerrain_1');
        map.getPane('pane_GoogleTerrain_1').style.zIndex = 401;
        var layer_GoogleTerrain_1 = L.tileLayer('http://mt0.google.com/vt/lyrs=p&hl=en&x={x}&y={y}&z={z}', {
            pane: 'pane_GoogleTerrain_1',
            opacity: 1.0,
            attribution: '',
            minZoom: 1,
            maxZoom: 23,
            minNativeZoom: 0,
            maxNativeZoom: 18
        });
        layer_GoogleTerrain_1;
        map.addLayer(layer_GoogleTerrain_1);

        function pop_LimitesSchaerbeekQuartiers_2(feature, layer) {
            layer.on({
                mouseout: function (e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function (feature) {
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Quartier</th>\
                        <td colspan="2">' + (feature.properties['SectorName'] !== null ? autolinker.link(String(feature.properties['SectorName']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">area (m2)</th>\
                        <td colspan="2">' + (feature.properties['area (m2)'] !== null ? autolinker.link(String(feature.properties['area (m2)']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">perimeter (m)</th>\
                        <td colspan="2">' + (feature.properties['perimeter (m)'] !== null ? autolinker.link(String(feature.properties['perimeter (m)']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_LimitesSchaerbeekQuartiers_2_0() {
            return {
                pane: 'pane_LimitesSchaerbeekQuartiers_2',
                opacity: 1,
                color: 'rgba(34,117,212,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 4.0,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(34,117,212,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_LimitesSchaerbeekQuartiers_2');
        map.getPane('pane_LimitesSchaerbeekQuartiers_2').style.zIndex = 402;
        map.getPane('pane_LimitesSchaerbeekQuartiers_2').style['mix-blend-mode'] = 'normal';

        var layer_LimitesSchaerbeekQuartiers_2 = new L.geoJson(json_LimitesSchaerbeekQuartiers_2, {
            attribution: '',
            interactive: true,
            dataVar: 'json_LimitesSchaerbeekQuartiers_2',
            layerName: 'layer_LimitesSchaerbeekQuartiers_2',
            pane: 'pane_LimitesSchaerbeekQuartiers_2',
            onEachFeature: pop_LimitesSchaerbeekQuartiers_2,
            style: style_LimitesSchaerbeekQuartiers_2_0,
        });
        bounds_group.addLayer(layer_LimitesSchaerbeekQuartiers_2);
        map.addLayer(layer_LimitesSchaerbeekQuartiers_2);

        function pop_LimitesSchaerbeek_3(feature, layer) {
            layer.on({
                mouseout: function (e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function (feature) {
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['id'] !== null ? autolinker.link(String(feature.properties['id']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td colspan="2">' + (feature.properties['SectorName'] !== null ? autolinker.link(String(feature.properties['SectorName']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_LimitesSchaerbeek_3_0() {
            return {
                pane: 'pane_LimitesSchaerbeek_3',
                opacity: 1,
                color: 'rgba(100,100,100,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 4.0,
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(100,100,100,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_LimitesSchaerbeek_3');
        map.getPane('pane_LimitesSchaerbeek_3').style.zIndex = 403;
        map.getPane('pane_LimitesSchaerbeek_3').style['mix-blend-mode'] = 'normal';

        var layer_LimitesSchaerbeek_3 = new L.geoJson(json_LimitesSchaerbeek_3, {
            attribution: '',
            interactive: true,
            dataVar: 'json_LimitesSchaerbeek_3',
            layerName: 'layer_LimitesSchaerbeek_3',
            pane: 'pane_LimitesSchaerbeek_3',
            onEachFeature: pop_LimitesSchaerbeek_3,
            style: style_LimitesSchaerbeek_3_0,
        });
        bounds_group.addLayer(layer_LimitesSchaerbeek_3);
        map.addLayer(layer_LimitesSchaerbeek_3);

        function pop_Rodenbach_4(feature, layer) {
            layer.on({
                mouseout: function (e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function (feature) {
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Group SPEV</th>\
                        <td class="visible-with-data" id="SECTOR_NAME">' + (feature.properties['SECTOR_NAME'] !== null ? autolinker.link(String(feature.properties['SECTOR_NAME']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Secteur SPEV</th>\
                        <td class="visible-with-data" id="SOUS_SECTOR">' + (feature.properties['SOUS_SECTOR'] !== null ? autolinker.link(String(feature.properties['SOUS_SECTOR']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nom de la voie (fr)</th>\
                        <td class="visible-with-data" id="STRNAMEFRE">' + (feature.properties['STRNAMEFRE'] !== null ? autolinker.link(String(feature.properties['STRNAMEFRE']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nom de la voie (nl)</th>\
                        <td class="visible-with-data" id="STRNAMEDUT">' + (feature.properties['STRNAMEDUT'] !== null ? autolinker.link(String(feature.properties['STRNAMEDUT']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td class="visible-with-data" id="ADMIN" colspan="2"><strong>ADMIN</strong><br />' + (feature.properties['ADMIN'] !== null ? autolinker.link(String(feature.properties['ADMIN']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_Rodenbach_4_0(feature) {
            switch (String(feature.properties['SOUS_SECTOR'])) {
                case 'Rodenbach01':
                    return {
                        pane: 'pane_Rodenbach_4',
                        opacity: 1,
                        color: 'rgba(35,35,35,1.0)',
                        dashArray: '',
                        lineCap: 'butt',
                        lineJoin: 'miter',
                        weight: 1.0,
                        fill: true,
                        fillOpacity: 1,
                        fillColor: 'rgba(120,162,202,1.0)',
                        interactive: true,
                    }
                    break;
                case 'Rodenbach02':
                    return {
                        pane: 'pane_Rodenbach_4',
                        opacity: 1,
                        color: 'rgba(35,35,35,1.0)',
                        dashArray: '',
                        lineCap: 'butt',
                        lineJoin: 'miter',
                        weight: 1.0,
                        fill: true,
                        fillOpacity: 1,
                        fillColor: 'rgba(201,151,105,1.0)',
                        interactive: true,
                    }
                    break;
                case 'Rodenbach03':
                    return {
                        pane: 'pane_Rodenbach_4',
                        opacity: 1,
                        color: 'rgba(35,35,35,1.0)',
                        dashArray: '',
                        lineCap: 'butt',
                        lineJoin: 'miter',
                        weight: 1.0,
                        fill: true,
                        fillOpacity: 1,
                        fillColor: 'rgba(219,81,224,1.0)',
                        interactive: true,
                    }
                    break;
            }
        }
        map.createPane('pane_Rodenbach_4');
        map.getPane('pane_Rodenbach_4').style.zIndex = 404;
        map.getPane('pane_Rodenbach_4').style['mix-blend-mode'] = 'normal';

        var layer_Rodenbach_4 = new L.geoJson(json_Rodenbach_4, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Rodenbach_4',
            layerName: 'layer_Rodenbach_4',
            pane: 'pane_Rodenbach_4',
            onEachFeature: pop_Rodenbach_4,
            style: style_Rodenbach_4_0,
        });
        bounds_group.addLayer(layer_Rodenbach_4);
        //map.addLayer(layer_Rodenbach_4);

        function pop_Radium_5(feature, layer) {
            layer.on({
                mouseout: function (e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function (feature) {
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Group SPEV</th>\
                        <td class="visible-with-data" id="SECTOR_NAME">' + (feature.properties['SECTOR_NAME'] !== null ? autolinker.link(String(feature.properties['SECTOR_NAME']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Secteur SPEV</th>\
                        <td class="visible-with-data" id="SOUS_SECTOR">' + (feature.properties['SOUS_SECTOR'] !== null ? autolinker.link(String(feature.properties['SOUS_SECTOR']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nom de la voie (fr)</th>\
                        <td class="visible-with-data" id="STRNAMEFRE">' + (feature.properties['STRNAMEFRE'] !== null ? autolinker.link(String(feature.properties['STRNAMEFRE']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nom de la voie (nl)</th>\
                        <td class="visible-with-data" id="STRNAMEDUT">' + (feature.properties['STRNAMEDUT'] !== null ? autolinker.link(String(feature.properties['STRNAMEDUT']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_Radium_5_0(feature) {
            switch (String(feature.properties['SOUS_SECTOR'])) {
                case 'Radium01':
                    return {
                        pane: 'pane_Radium_5',
                        opacity: 1,
                        color: 'rgba(35,35,35,1.0)',
                        dashArray: '',
                        lineCap: 'butt',
                        lineJoin: 'miter',
                        weight: 1.0,
                        fill: true,
                        fillOpacity: 1,
                        fillColor: 'rgba(34,103,207,1.0)',
                        interactive: true,
                    }
                    break;
                case 'Radium02':
                    return {
                        pane: 'pane_Radium_5',
                        opacity: 1,
                        color: 'rgba(35,35,35,1.0)',
                        dashArray: '',
                        lineCap: 'butt',
                        lineJoin: 'miter',
                        weight: 1.0,
                        fill: true,
                        fillOpacity: 1,
                        fillColor: 'rgba(30,236,47,1.0)',
                        interactive: true,
                    }
                    break;
                case 'Radium03':
                    return {
                        pane: 'pane_Radium_5',
                        opacity: 1,
                        color: 'rgba(35,35,35,1.0)',
                        dashArray: '',
                        lineCap: 'butt',
                        lineJoin: 'miter',
                        weight: 1.0,
                        fill: true,
                        fillOpacity: 1,
                        fillColor: 'rgba(205,148,63,1.0)',
                        interactive: true,
                    }
                    break;
            }
        }
        map.createPane('pane_Radium_5');
        map.getPane('pane_Radium_5').style.zIndex = 405;
        map.getPane('pane_Radium_5').style['mix-blend-mode'] = 'normal';

        var layer_Radium_5 = new L.geoJson(json_Radium_5, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Radium_5',
            layerName: 'layer_Radium_5',
            pane: 'pane_Radium_5',
            onEachFeature: pop_Radium_5,
            style: style_Radium_5_0,
        });
        bounds_group.addLayer(layer_Radium_5);
        //map.addLayer(layer_Radium_5);

        function pop_Vifquin_6(feature, layer) {
            layer.on({
                mouseout: function (e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function (feature) {
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Group SPEV</th>\
                        <td class="visible-with-data" id="SECTOR_NAME">' + (feature.properties['SECTOR_NAME'] !== null ? autolinker.link(String(feature.properties['SECTOR_NAME']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Secteur SPEV</th>\
                        <td class="visible-with-data" id="SOUS_SECTOR">' + (feature.properties['SOUS_SECTOR'] !== null ? autolinker.link(String(feature.properties['SOUS_SECTOR']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nom de la voie (fr)</th>\
                        <td class="visible-with-data" id="STRNAMEFRE">' + (feature.properties['STRNAMEFRE'] !== null ? autolinker.link(String(feature.properties['STRNAMEFRE']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nom de la voie (nl)</th>\
                        <td class="visible-with-data" id="STRNAMEDUT">' + (feature.properties['STRNAMEDUT'] !== null ? autolinker.link(String(feature.properties['STRNAMEDUT']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_Vifquin_6_0(feature) {
            switch (String(feature.properties['SOUS_SECTOR'])) {
                case 'Vifquin01':
                    return {
                        pane: 'pane_Vifquin_6',
                        opacity: 1,
                        color: 'rgba(35,35,35,1.0)',
                        dashArray: '',
                        lineCap: 'butt',
                        lineJoin: 'miter',
                        weight: 1.0,
                        fill: true,
                        fillOpacity: 1,
                        fillColor: 'rgba(215,173,49,1.0)',
                        interactive: true,
                    }
                    break;
                case 'Vifquin02':
                    return {
                        pane: 'pane_Vifquin_6',
                        opacity: 1,
                        color: 'rgba(35,35,35,1.0)',
                        dashArray: '',
                        lineCap: 'butt',
                        lineJoin: 'miter',
                        weight: 1.0,
                        fill: true,
                        fillOpacity: 1,
                        fillColor: 'rgba(214,117,191,1.0)',
                        interactive: true,
                    }
                    break;
                case 'Vifquin03':
                    return {
                        pane: 'pane_Vifquin_6',
                        opacity: 1,
                        color: 'rgba(35,35,35,1.0)',
                        dashArray: '',
                        lineCap: 'butt',
                        lineJoin: 'miter',
                        weight: 1.0,
                        fill: true,
                        fillOpacity: 1,
                        fillColor: 'rgba(28,78,230,1.0)',
                        interactive: true,
                    }
                    break;
            }
        }
        map.createPane('pane_Vifquin_6');
        map.getPane('pane_Vifquin_6').style.zIndex = 406;
        map.getPane('pane_Vifquin_6').style['mix-blend-mode'] = 'normal';

        var layer_Vifquin_6 = new L.geoJson(json_Vifquin_6, {
            attribution: '',
            interactive: true,
            dataVar: 'json_Vifquin_6',
            layerName: 'layer_Vifquin_6',
            pane: 'pane_Vifquin_6',
            onEachFeature: pop_Vifquin_6,
            style: style_Vifquin_6_0,
        });
        bounds_group.addLayer(layer_Vifquin_6);
        //map.addLayer(layer_Vifquin_6);

        function pop_LimitesSecteursSPEV_7(feature, layer) {
            layer.on({
                mouseout: function (e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function (feature) {
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Secteur SPEV</th>\
                        <td class="visible-with-data" id="SectorName">' + (feature.properties['SectorName'] !== null ? autolinker.link(String(feature.properties['SectorName']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">area (m2)</th>\
                        <td class="visible-with-data" id="area">' + (feature.properties['area'] !== null ? autolinker.link(String(feature.properties['area']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">périmètre (m)</th>\
                        <td class="visible-with-data" id="perimeter">' + (feature.properties['perimeter'] !== null ? autolinker.link(String(feature.properties['perimeter']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_LimitesSecteursSPEV_7_0(feature) {
            switch (String(feature.properties['SectorName'])) {
                case 'Radium':
                    return {
                        pane: 'pane_LimitesSecteursSPEV_7',
                        opacity: 1,
                        color: 'rgba(0,206,0,1.0)',
                        dashArray: '',
                        lineCap: 'butt',
                        lineJoin: 'miter',
                        weight: 4.0,
                        fill: true,
                        fillOpacity: 1,
                        fillColor: 'rgba(0,206,0,1.0)',
                        interactive: true,
                    }
                    break;
                case 'Rodenbach':
                    return {
                        pane: 'pane_LimitesSecteursSPEV_7',
                        opacity: 1,
                        color: 'rgba(237,63,205,1.0)',
                        dashArray: '',
                        lineCap: 'butt',
                        lineJoin: 'miter',
                        weight: 4.0,
                        fill: true,
                        fillOpacity: 1,
                        fillColor: 'rgba(237,63,205,1.0)',
                        interactive: true,
                    }
                    break;
                case 'Vifquin':
                    return {
                        pane: 'pane_LimitesSecteursSPEV_7',
                        opacity: 1,
                        color: 'rgba(53,121,215,1.0)',
                        dashArray: '',
                        lineCap: 'butt',
                        lineJoin: 'miter',
                        weight: 4.0,
                        fill: true,
                        fillOpacity: 1,
                        fillColor: 'rgba(53,121,215,1.0)',
                        interactive: true,
                    }
                    break;
            }
        }
        map.createPane('pane_LimitesSecteursSPEV_7');
        map.getPane('pane_LimitesSecteursSPEV_7').style.zIndex = 407;
        map.getPane('pane_LimitesSecteursSPEV_7').style['mix-blend-mode'] = 'normal';

        var layer_LimitesSecteursSPEV_7 = new L.geoJson(json_LimitesSecteursSPEV_7, {
            attribution: '',
            interactive: true,
            dataVar: 'json_LimitesSecteursSPEV_7',
            layerName: 'layer_LimitesSecteursSPEV_7',
            pane: 'pane_LimitesSecteursSPEV_7',
            onEachFeature: pop_LimitesSecteursSPEV_7,
            style: style_LimitesSecteursSPEV_7_0,
        });
        bounds_group.addLayer(layer_LimitesSecteursSPEV_7);
        //map.addLayer(layer_LimitesSecteursSPEV_7);

        function pop_DecheterieMobile_8(feature, layer) {
            layer.on({
                mouseout: function (e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function (feature) {
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Rue</th>\
                        <td>' + (feature.properties['Rue'] !== null ? autolinker.link(String(feature.properties['Rue']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Secteur SPEV</th>\
                        <td>' + (feature.properties['Secteur'] !== null ? autolinker.link(String(feature.properties['Secteur']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre d\'interventions</th>\
                        <td>' + (feature.properties['Total Interventions'] !== null ? autolinker.link(String(feature.properties['Total Interventions']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre de taxes</th>\
                        <td>' + (feature.properties['Total Taxe'] !== null ? autolinker.link(String(feature.properties['Total Taxe']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre de mediations</th>\
                        <td>' + (feature.properties['Total Mediation'] !== null ? autolinker.link(String(feature.properties['Total Mediation']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre moyenne de balayage</th>\
                        <td>' + (feature.properties['Moyenne Balayage'] !== null ? autolinker.link(String(feature.properties['Moyenne Balayage']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre de déchetterie mobile</th>\
                        <td>' + (feature.properties['Total Dechetterie Mobile'] !== null ? autolinker.link(String(feature.properties['Total Dechetterie Mobile']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_DecheterieMobile_8_0(feature) {
            if (feature.properties['Total Dechetterie Mobile'] == 0) {
                return {
                    pane: 'pane_DecheterieMobile_8',
                    radius: 0.0,
                    opacity: 1,
                    color: 'rgba(110,26,155,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(110,26,155,0.30196078431372547)',
                    interactive: true,
                }
            }
            if (feature.properties['Total Dechetterie Mobile'] > 0) {
                return {
                    pane: 'pane_DecheterieMobile_8',
                    radius: 10.0,
                    opacity: 1,
                    color: 'rgba(110,26,155,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(110,26,155,0.30196078431372547)',
                    interactive: true,
                }
            }
        }
        map.createPane('pane_DecheterieMobile_8');
        map.getPane('pane_DecheterieMobile_8').style.zIndex = 408;
        map.getPane('pane_DecheterieMobile_8').style['mix-blend-mode'] = 'normal';

        var layer_DecheterieMobile_8 = new L.geoJson(json_SPEVBilan2025, {
            attribution: '',
            interactive: true,
            dataVar: 'SPEVBilan2025',
            layerName: 'layer_DecheterieMobile_8',
            pane: 'pane_DecheterieMobile_8',
            onEachFeature: pop_DecheterieMobile_8,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_DecheterieMobile_8_0(feature));
            },
        });
        bounds_group.addLayer(layer_DecheterieMobile_8);
        //map.addLayer(layer_DecheterieMobile_8);

        function pop_Taxe_9(feature, layer) {
            layer.on({
                mouseout: function (e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function (feature) {
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Rue</th>\
                        <td>' + (feature.properties['Rue'] !== null ? autolinker.link(String(feature.properties['Rue']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Secteur SPEV</th>\
                        <td>' + (feature.properties['Secteur'] !== null ? autolinker.link(String(feature.properties['Secteur']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre d\'interventions</th>\
                        <td>' + (feature.properties['Total Interventions'] !== null ? autolinker.link(String(feature.properties['Total Interventions']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre de taxes</th>\
                        <td>' + (feature.properties['Total Taxe'] !== null ? autolinker.link(String(feature.properties['Total Taxe']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre de mediations</th>\
                        <td>' + (feature.properties['Total Mediation'] !== null ? autolinker.link(String(feature.properties['Total Mediation']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre moyenne de balayage</th>\
                        <td>' + (feature.properties['Moyenne Balayage'] !== null ? autolinker.link(String(feature.properties['Moyenne Balayage']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre de déchetterie mobile</th>\
                        <td>' + (feature.properties['Total Dechetterie Mobile'] !== null ? autolinker.link(String(feature.properties['Total Dechetterie Mobile']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_Taxe_9_0(feature) {
            if (feature.properties['Total Taxe'] == 0) {
                return {
                    pane: 'pane_Taxe_9',
                    radius: 0.0,
                    opacity: 1,
                    color: 'rgba(89,112,225,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(89,128,225,0.30196078431372547)',
                    interactive: true,
                }
            }
            if (feature.properties['Total Taxe'] >= 1.000000 && feature.properties['Total Taxe'] <= 5.000000) {
                return {
                    pane: 'pane_Taxe_9',
                    radius: 2.0,
                    opacity: 1,
                    color: 'rgba(89,112,225,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(89,128,225,0.30196078431372547)',
                    interactive: true,
                }
            }
            if (feature.properties['Total Taxe'] >= 5.000000 && feature.properties['Total Taxe'] <= 10.000000) {
                return {
                    pane: 'pane_Taxe_9',
                    radius: 7,
                    opacity: 1,
                    color: 'rgba(89,112,225,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(89,128,225,0.30196078431372547)',
                    interactive: true,
                }
            }
            if (feature.properties['Total Taxe'] >= 10.000000 && feature.properties['Total Taxe'] <= 15.000000) {
                return {
                    pane: 'pane_Taxe_9',
                    radius: 11,
                    opacity: 1,
                    color: 'rgba(89,112,225,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(89,128,225,0.30196078431372547)',
                    interactive: true,
                }
            }
            if (feature.properties['Total Taxe'] >= 15.000000 && feature.properties['Total Taxe'] <= 20.000000) {
                return {
                    pane: 'pane_Taxe_9',
                    radius: 16.0,
                    opacity: 1,
                    color: 'rgba(89,112,225,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(89,128,225,0.30196078431372547)',
                    interactive: true,
                }
            }
        }
        map.createPane('pane_Taxe_9');
        map.getPane('pane_Taxe_9').style.zIndex = 409;
        map.getPane('pane_Taxe_9').style['mix-blend-mode'] = 'normal';

        var layer_Taxe_9 = new L.geoJson(json_SPEVBilan2025, {
            attribution: '',
            interactive: true,
            dataVar: 'SPEVBilan2025',
            layerName: 'layer_Taxe_9',
            pane: 'pane_Taxe_9',
            onEachFeature: pop_Taxe_9,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_Taxe_9_0(feature));
            },
        });
        bounds_group.addLayer(layer_Taxe_9);
        //map.addLayer(layer_Taxe_9);

        function pop_MoyenneBalayage_10(feature, layer) {
            layer.on({
                mouseout: function (e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function (feature) {
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Rue</th>\
                        <td>' + (feature.properties['Rue'] !== null ? autolinker.link(String(feature.properties['Rue']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Secteur SPEV</th>\
                        <td>' + (feature.properties['Secteur'] !== null ? autolinker.link(String(feature.properties['Secteur']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre d\'interventions</th>\
                        <td>' + (feature.properties['Total Interventions'] !== null ? autolinker.link(String(feature.properties['Total Interventions']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre de taxes</th>\
                        <td>' + (feature.properties['Total Taxe'] !== null ? autolinker.link(String(feature.properties['Total Taxe']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre de mediations</th>\
                        <td>' + (feature.properties['Total Mediation'] !== null ? autolinker.link(String(feature.properties['Total Mediation']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre moyenne de balayage</th>\
                        <td>' + (feature.properties['Moyenne Balayage'] !== null ? autolinker.link(String(feature.properties['Moyenne Balayage']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre de déchetterie mobile</th>\
                        <td>' + (feature.properties['Total Dechetterie Mobile'] !== null ? autolinker.link(String(feature.properties['Total Dechetterie Mobile']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_MoyenneBalayage_10_0(feature) {
            if (feature.properties['Moyenne Balayage'] == 0.000000) {
                return {
                    pane: 'pane_MoyenneBalayage_10',
                    radius: 0.0,
                    opacity: 1,
                    color: 'rgba(34,225,104,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(34,225,104,0.30196078431372547)',
                    interactive: true,
                }
            }
            if (feature.properties['Moyenne Balayage'] >= 1.000000 && feature.properties['Moyenne Balayage'] <= 10.000000) {
                return {
                    pane: 'pane_MoyenneBalayage_10',
                    radius: 2.0,
                    opacity: 1,
                    color: 'rgba(34,225,104,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(34,225,104,0.30196078431372547)',
                    interactive: true,
                }
            }
            if (feature.properties['Moyenne Balayage'] >= 10.000000 && feature.properties['Moyenne Balayage'] <= 15.000000) {
                return {
                    pane: 'pane_MoyenneBalayage_10',
                    radius: 5.5,
                    opacity: 1,
                    color: 'rgba(34,225,104,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(34,225,104,0.30196078431372547)',
                    interactive: true,
                }
            }
            if (feature.properties['Moyenne Balayage'] >= 15.000000 && feature.properties['Moyenne Balayage'] <= 20.000000) {
                return {
                    pane: 'pane_MoyenneBalayage_10',
                    radius: 9.0,
                    opacity: 1,
                    color: 'rgba(34,225,104,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(34,225,104,0.30196078431372547)',
                    interactive: true,
                }
            }
            if (feature.properties['Moyenne Balayage'] >= 20.000000 && feature.properties['Moyenne Balayage'] <= 50.000000) {
                return {
                    pane: 'pane_MoyenneBalayage_10',
                    radius: 12.5,
                    opacity: 1,
                    color: 'rgba(34,225,104,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(34,225,104,0.30196078431372547)',
                    interactive: true,
                }
            }
            if (feature.properties['Moyenne Balayage'] >= 50.000000 && feature.properties['Moyenne Balayage'] <= 5000.000000) {
                return {
                    pane: 'pane_MoyenneBalayage_10',
                    radius: 16.0,
                    opacity: 1,
                    color: 'rgba(34,225,104,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(34,225,104,0.30196078431372547)',
                    interactive: true,
                }
            }
        }
        map.createPane('pane_MoyenneBalayage_10');
        map.getPane('pane_MoyenneBalayage_10').style.zIndex = 410;
        map.getPane('pane_MoyenneBalayage_10').style['mix-blend-mode'] = 'normal';

        var layer_MoyenneBalayage_10 = new L.geoJson(json_SPEVBilan2025, {
            attribution: '',
            interactive: true,
            dataVar: 'SPEVBilan2025',
            layerName: 'layer_MoyenneBalayage_10',
            pane: 'pane_MoyenneBalayage_10',
            onEachFeature: pop_MoyenneBalayage_10,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_MoyenneBalayage_10_0(feature));
            },
        });
        bounds_group.addLayer(layer_MoyenneBalayage_10);
        //map.addLayer(layer_MoyenneBalayage_10);

        function pop_Mediation_11(feature, layer) {
            layer.on({
                mouseout: function (e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function (feature) {
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Rue</th>\
                        <td>' + (feature.properties['Rue'] !== null ? autolinker.link(String(feature.properties['Rue']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Secteur SPEV</th>\
                        <td>' + (feature.properties['Secteur'] !== null ? autolinker.link(String(feature.properties['Secteur']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre d\'interventions</th>\
                        <td>' + (feature.properties['Total Interventions'] !== null ? autolinker.link(String(feature.properties['Total Interventions']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre de taxes</th>\
                        <td>' + (feature.properties['Total Taxe'] !== null ? autolinker.link(String(feature.properties['Total Taxe']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre de mediations</th>\
                        <td>' + (feature.properties['Total Mediation'] !== null ? autolinker.link(String(feature.properties['Total Mediation']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre moyenne de balayage</th>\
                        <td>' + (feature.properties['Moyenne Balayage'] !== null ? autolinker.link(String(feature.properties['Moyenne Balayage']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre de déchetterie mobile</th>\
                        <td>' + (feature.properties['Total Dechetterie Mobile'] !== null ? autolinker.link(String(feature.properties['Total Dechetterie Mobile']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_Mediation_11_0(feature) {
            if (feature.properties['Total Mediation'] == 0.000000) {
                return {
                    pane: 'pane_Mediation_11',
                    radius: 0,
                    opacity: 1,
                    color: 'rgba(89,112,225,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(219,128,92,0.30196078431372547)',
                    interactive: true,
                }
            }
            if (feature.properties['Total Mediation'] >= 1 && feature.properties['Total Mediation'] <= 5) {
                return {
                    pane: 'pane_Mediation_11',
                    radius: 4,
                    opacity: 1,
                    color: 'rgba(89,112,225,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(219,128,92,0.30196078431372547)',
                    interactive: true,
                }
            }
        }
        map.createPane('pane_Mediation_11');
        map.getPane('pane_Mediation_11').style.zIndex = 411;
        map.getPane('pane_Mediation_11').style['mix-blend-mode'] = 'normal';

        var layer_Mediation_11 = new L.geoJson(json_SPEVBilan2025, {
            attribution: '',
            interactive: true,
            dataVar: 'SPEVBilan2025',
            layerName: 'layer_Mediation_11',
            pane: 'pane_Mediation_11',
            onEachFeature: pop_Mediation_11,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_Mediation_11_0(feature));
            },
        });
        bounds_group.addLayer(layer_Mediation_11);
        //map.addLayer(layer_Mediation_11);

        function pop_Intervention_12(feature, layer) {
            layer.on({
                mouseout: function (e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function (feature) {
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Rue</th>\
                        <td>' + (feature.properties['Rue'] !== null ? autolinker.link(String(feature.properties['Rue']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Secteur SPEV</th>\
                        <td>' + (feature.properties['Secteur'] !== null ? autolinker.link(String(feature.properties['Secteur']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre d\'interventions</th>\
                        <td>' + (feature.properties['Total Interventions'] !== null ? autolinker.link(String(feature.properties['Total Interventions']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre de taxes</th>\
                        <td>' + (feature.properties['Total Taxe'] !== null ? autolinker.link(String(feature.properties['Total Taxe']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre de mediations</th>\
                        <td>' + (feature.properties['Total Mediation'] !== null ? autolinker.link(String(feature.properties['Total Mediation']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre moyenne de balayage</th>\
                        <td>' + (feature.properties['Moyenne Balayage'] !== null ? autolinker.link(String(feature.properties['Moyenne Balayage']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre de déchetterie mobile</th>\
                        <td>' + (feature.properties['Total Dechetterie Mobile'] !== null ? autolinker.link(String(feature.properties['Total Dechetterie Mobile']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_Intervention_12_0(feature) {
            if (feature.properties['Total Interventions'] == 0) {
                return {
                    pane: 'pane_Intervention_12',
                    radius: 0.0,
                    opacity: 1,
                    color: 'rgba(225,89,137,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(225,89,137,0.30196078431372547)',
                    interactive: true,
                }
            }
            if (feature.properties['Total Interventions'] >= 1.000000 && feature.properties['Total Interventions'] <= 3.000000) {
                return {
                    pane: 'pane_Intervention_12',
                    radius: 2.0,
                    opacity: 1,
                    color: 'rgba(225,89,137,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(225,89,137,0.30196078431372547)',
                    interactive: true,
                }
            }
            if (feature.properties['Total Interventions'] >= 3.000000 && feature.properties['Total Interventions'] <= 21.000000) {
                return {
                    pane: 'pane_Intervention_12',
                    radius: 5.5,
                    opacity: 1,
                    color: 'rgba(225,89,137,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(225,89,137,0.30196078431372547)',
                    interactive: true,
                }
            }
            if (feature.properties['Total Interventions'] >= 21.000000 && feature.properties['Total Interventions'] <= 53.000000) {
                return {
                    pane: 'pane_Intervention_12',
                    radius: 9.0,
                    opacity: 1,
                    color: 'rgba(225,89,137,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(225,89,137,0.30196078431372547)',
                    interactive: true,
                }
            }
            if (feature.properties['Total Interventions'] >= 53.000000 && feature.properties['Total Interventions'] <= 125.000000) {
                return {
                    pane: 'pane_Intervention_12',
                    radius: 12.5,
                    opacity: 1,
                    color: 'rgba(225,89,137,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(225,89,137,0.30196078431372547)',
                    interactive: true,
                }
            }
            if (feature.properties['Total Interventions'] >= 125.000000 && feature.properties['Total Interventions'] <= 1000.000000) {
                return {
                    pane: 'pane_Intervention_12',
                    radius: 16.0,
                    opacity: 1,
                    color: 'rgba(225,89,137,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(225,89,137,0.30196078431372547)',
                    interactive: true,
                }
            }
            if (feature.properties['Total Interventions'] > 1000.000000) {
                return {
                    pane: 'pane_Intervention_12',
                    radius: 18.0,
                    opacity: 1,
                    color: 'rgba(225,89,137,1.0)',
                    dashArray: '',
                    lineCap: 'butt',
                    lineJoin: 'miter',
                    weight: 1,
                    fill: true,
                    fillOpacity: 1,
                    fillColor: 'rgba(225,89,137,0.30196078431372547)',
                    interactive: true,
                }
            }

        }
        map.createPane('pane_Intervention_12');
        map.getPane('pane_Intervention_12').style.zIndex = 412;
        map.getPane('pane_Intervention_12').style['mix-blend-mode'] = 'normal';

        var layer_Intervention_12 = new L.geoJson(json_SPEVBilan2025, {
            attribution: '',
            interactive: true,
            dataVar: 'SPEVBilan2025',
            layerName: 'layer_Intervention_12',
            pane: 'pane_Intervention_12',
            onEachFeature: pop_Intervention_12,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.circleMarker(latlng, style_Intervention_12_0(feature));
            },
        });
        bounds_group.addLayer(layer_Intervention_12);
        map.addLayer(layer_Intervention_12);

        function pop_Pointsdintervention_14(feature, layer) {
            layer.on({
                mouseout: function (e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function (feature) {
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
                    <tr>\
                        <th scope="row">Rue</th>\
                        <td>' + (feature.properties['Rue'] !== null ? autolinker.link(String(feature.properties['Rue']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">Secteur SPEV</th>\
                        <td>' + (feature.properties['Secteur'] !== null ? autolinker.link(String(feature.properties['Secteur']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre d\'interventions</th>\
                        <td>' + (feature.properties['Total Interventions'] !== null ? autolinker.link(String(feature.properties['Total Interventions']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre de taxes</th>\
                        <td>' + (feature.properties['Total Taxe'] !== null ? autolinker.link(String(feature.properties['Total Taxe']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre de mediations</th>\
                        <td>' + (feature.properties['Total Mediation'] !== null ? autolinker.link(String(feature.properties['Total Mediation']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre moyenne de balayage</th>\
                        <td>' + (feature.properties['Moyenne Balayage'] !== null ? autolinker.link(String(feature.properties['Moyenne Balayage']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <th scope="row">nombre de déchetterie mobile</th>\
                        <td>' + (feature.properties['Total Dechetterie Mobile'] !== null ? autolinker.link(String(feature.properties['Total Dechetterie Mobile']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
            layer.on('popupopen', function (e) {
                addClassToPopupIfMedia(content, e.popup);
            });
            layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_Pointsdintervention_14_0() {
            return {
                pane: 'pane_Pointsdintervention_14',
                shape: 'square',
                radius: 1,
                opacity: 1,
                color: 'rgba(0,0,0,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 0.5,
                fill: false,
                fillOpacity: 1,
                fillColor: 'rgba(0,0,0,1.0)',
                interactive: true,
            }
        }
        map.createPane('pane_Pointsdintervention_14');
        map.getPane('pane_Pointsdintervention_14').style.zIndex = 414;
        map.getPane('pane_Pointsdintervention_14').style['mix-blend-mode'] = 'normal';

        var layer_Pointsdintervention_14 = new L.geoJson(json_SPEVBilan2025, {
            attribution: '',
            interactive: true,
            dataVar: 'SPEVBilan2025',
            layerName: 'layer_Pointsdintervention_14',
            pane: 'pane_Pointsdintervention_14',
            onEachFeature: pop_Pointsdintervention_14,
            pointToLayer: function (feature, latlng) {
                var context = {
                    feature: feature,
                    variables: {}
                };
                return L.shapeMarker(latlng, style_Pointsdintervention_14_0(feature));
            },
        });
        bounds_group.addLayer(layer_Pointsdintervention_14);
        map.addLayer(layer_Pointsdintervention_14);

        /* BEGIN Zonesdintervention */
        function pop_StreetAxesSPEV_11(feature, layer) {
            layer.on({
                mouseout: function(e) {
                    for (var i in e.target._eventParents) {
                        if (typeof e.target._eventParents[i].resetStyle === 'function') {
                            e.target._eventParents[i].resetStyle(e.target);
                        }
                    }
                    if (typeof layer.closePopup == 'function') {
                        layer.closePopup();
                    } else {
                        layer.eachLayer(function(feature){
                            feature.closePopup()
                        });
                    }
                },
                mouseover: highlightFeature,
            });
            var popupContent = '<table>\
	                <tr>\
                        <td class="visible-with-data" id="RueFR" colspan="2"><strong>Rue FR</strong><br />' + (feature.properties['RueFR'] !== null ? autolinker.link(String(feature.properties['RueFR']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td class="visible-with-data" id="RueNL" colspan="2"><strong>Straat NL</strong><br />' + (feature.properties['RueNL'] !== null ? autolinker.link(String(feature.properties['RueNL']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td class="visible-with-data" id="Quartier" colspan="2"><strong>Quartier</strong><br />' + (feature.properties['Quartier'] !== null ? autolinker.link(String(feature.properties['Quartier']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                    <tr>\
                        <td class="visible-with-data" id="SousSector" colspan="2"><strong>Secteur SPEV</strong><br />' + (feature.properties['SousSector'] !== null ? autolinker.link(String(feature.properties['SousSector']).replace(/'/g, '\'').toLocaleString()) : '') + '</td>\
                    </tr>\
                </table>';
            var content = removeEmptyRowsFromPopupContent(popupContent, feature);
			layer.on('popupopen', function(e) {
				addClassToPopupIfMedia(content, e.popup);
			});
			layer.bindPopup(content, { maxHeight: 400 });
        }

        function style_StreetAxesSPEV_11_0(feature) {
            switch(String(feature.properties['SectorSPEV'])) {
                case 'Radium':
                    return {
                pane: 'pane_StreetAxesSPEV_11',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(122,129,210,1.0)',
                interactive: true,
            }
                    break;
                case 'Rodenbach':
                    return {
                pane: 'pane_StreetAxesSPEV_11',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(218,210,97,1.0)',
                interactive: true,
            }
                    break;
                case 'Vifquin':
                    return {
                pane: 'pane_StreetAxesSPEV_11',
                opacity: 1,
                color: 'rgba(35,35,35,1.0)',
                dashArray: '',
                lineCap: 'butt',
                lineJoin: 'miter',
                weight: 1.0, 
                fill: true,
                fillOpacity: 1,
                fillColor: 'rgba(234,137,192,1.0)',
                interactive: true,
            }
                    break;
            }
        }
        map.createPane('pane_StreetAxesSPEV_11');
        //map.getPane('pane_StreetAxesSPEV_11').style.zIndex = 411;
        map.getPane('pane_StreetAxesSPEV_11').style['mix-blend-mode'] = 'normal';
        var layer_StreetAxesSPEV_11 = new L.geoJson(json_StreetAxesSPEV_11, {
            attribution: '',
            interactive: true,
            dataVar: 'json_StreetAxesSPEV_11',
            layerName: 'layer_StreetAxesSPEV_11',
            pane: 'pane_StreetAxesSPEV_11',
            onEachFeature: pop_StreetAxesSPEV_11,
            style: style_StreetAxesSPEV_11_0,
        });
        bounds_group.addLayer(layer_StreetAxesSPEV_11);
        //map.addLayer(layer_StreetAxesSPEV_11);
        /* END Zonesdintervention */

        const url = {
            "Nominatim": "https://nominatim.openstreetmap.org/search?format=geojson&addressdetails=1&",
            "BAN": "https://api-adresse.data.gouv.fr/search/?"
        }
        var photonControl = L.control.photon({
            url: url["Nominatim"],
            feedbackLabel: '',
            position: 'topleft',
            includePosition: true,
            initial: true,
            // resultsHandler: myHandler,
        }).addTo(map);
        photonControl._container.childNodes[0].style.borderRadius = "10px"

        // Create a variable to store the geoJSON data
        var x = null;
        // Create a variable to store the marker
        var marker = null;
        // Add an event listener to the Photon control to create a marker from the returned geoJSON data
        var z = null;
        photonControl.on('selected', function (e) {
            console.log(photonControl.search.resultsContainer);
            if (x != null) {
                map.removeLayer(obj3.marker);
                map.removeLayer(x);
            }
            obj2.gcd = e.choice;
            x = L.geoJSON(obj2.gcd).addTo(map);
            var label = typeof obj2.gcd.properties.label === 'undefined' ? obj2.gcd.properties.display_name : obj2.gcd.properties.label;
            obj3.marker = L.marker(x.getLayers()[0].getLatLng()).bindPopup(label).addTo(map);
            map.setView(x.getLayers()[0].getLatLng(), 17);
            z = typeof e.choice.properties.label === 'undefined' ? e.choice.properties.display_name : e.choice.properties.label;
            console.log(e);
            e.target.input.value = z;
        });
        var search = document.getElementsByClassName("leaflet-photon leaflet-control")[0];
        search.classList.add("leaflet-control-search")
        search.style.display = "flex";
        search.style.backgroundColor = "rgba(255,255,255,0.5)"

        // Créer le nouvel élément bouton
        var button = document.createElement("div");
        button.id = "gcd-button-control";
        button.className = "gcd-gl-btn fa fa-search search-button";

        // Ajouter le bouton à l'élément parent
        search.insertBefore(button, search.firstChild);
        last = search.lastChild;
        last.style.display = "none";
        button.addEventListener("click", function (e) {
            if (last.style.display === "none") {
                last.style.display = "block";
            } else {
                last.style.display = "none";
            }
        });

        var overlaysTree = [
            {
                label: '<b>InterventionsSPEV</b>', children: [
                    { label: '<img src="legend/Intervention.png" /> Intervention', layer: layer_Intervention_12, radioGroup: 'bc' },
                    { label: '<img src="legend/MoyenneBalayage.png" /> Moyenne Balayage', layer: layer_MoyenneBalayage_10, radioGroup: 'bc' },
                    { label: '<img src="legend/Mediation.png" /> Mediation', layer: layer_Mediation_11, radioGroup: 'bc' },
                    { label: '<img src="legend/Taxe.png" /> Taxes', layer: layer_Taxe_9, radioGroup: 'bc' },
                    { label: '<img src="legend/DecheterieMobile.png" /> Decheterie Mobile', layer: layer_DecheterieMobile_8, radioGroup: 'bc' },]
            },
            {
                label: '<b>Schaerbeek</b>', collapsed: true, children: [
                    { label: '<img src="legend/LimitesSchaerbeek_3.png" /> Limites Schaerbeek', layer: layer_LimitesSchaerbeek_3, radioGroup: 'bd' },
                    { label: '<img src="legend/LimitesSchaerbeekQuartiers_2.png" /> Limites Quartiers 1030', layer: layer_LimitesSchaerbeekQuartiers_2, radioGroup: 'bd' },
                    { label: 'Limites SecteursSPEV<br /><table><tr><td style="text-align: center;"><img src="legend/LimitesSecteursSPEV_7_Radium0.png" /></td><td>Radium</td></tr><tr><td style="text-align: center;"><img src="legend/LimitesSecteursSPEV_7_Rodenbach1.png" /></td><td>Rodenbach</td></tr><tr><td style="text-align: center;"><img src="legend/LimitesSecteursSPEV_7_Vifquin2.png" /></td><td>Vifquin</td></tr></table>', layer: layer_LimitesSecteursSPEV_7, radioGroup: 'bd' },]
            },
            {
                label: '<b>Secteurs SPEV</b>', collapsed: true, selectAllCheckbox: true, children: [
                    { label: 'Vifquin<br /><table><tr><td style="text-align: center;"><img src="legend/Vifquin_6_Vifquin010.png" /></td><td>Vifquin01</td></tr><tr><td style="text-align: center;"><img src="legend/Vifquin_6_Vifquin021.png" /></td><td>Vifquin02</td></tr><tr><td style="text-align: center;"><img src="legend/Vifquin_6_Vifquin032.png" /></td><td>Vifquin03</td></tr></table>', layer: layer_Vifquin_6 },
                    { label: 'Radium<br /><table><tr><td style="text-align: center;"><img src="legend/Radium_5_Radium010.png" /></td><td>Radium01</td></tr><tr><td style="text-align: center;"><img src="legend/Radium_5_Radium021.png" /></td><td>Radium02</td></tr><tr><td style="text-align: center;"><img src="legend/Radium_5_Radium032.png" /></td><td>Radium03</td></tr></table>', layer: layer_Radium_5 },
                    { label: 'Rodenbach<br /><table><tr><td style="text-align: center;"><img src="legend/Rodenbach_4_Rodenbach010.png" /></td><td>Rodenbach01</td></tr><tr><td style="text-align: center;"><img src="legend/Rodenbach_4_Rodenbach021.png" /></td><td>Rodenbach02</td></tr><tr><td style="text-align: center;"><img src="legend/Rodenbach_4_Rodenbach032.png" /></td><td>Rodenbach03</td></tr></table>', layer: layer_Rodenbach_4 },]
            },
            //{
            //    label: '<b>Points et Zones</b>', children: [
            //        { label: '<img src="legend/Pointsdintervention_14.png" /> Points d\'intervention', layer: layer_Pointsdintervention_14},]
			//		  { label: '<img src="legend/Zonesdintervention_13.png" /> Zones d\'intervention', layer: layer_StreetAxesSPEV_11, radioGroup: 'bq' },]
            //},
			{ label: '<img src="legend/Pointsdintervention_14.png" /> Points d\'intervention', layer: layer_Pointsdintervention_14},
            { label: "Google Terrain", layer: layer_GoogleTerrain_1, radioGroup: 'bm' },
            { label: "Google Satellite", layer: layer_GoogleSatellite_0, radioGroup: 'bm' },]

        var lay = L.control.layers.tree(null, overlaysTree, {
            //namedToggle: true,
            //selectorBack: false,
            //closedSymbol: '&#8862; &#x1f5c0;',
            //openedSymbol: '&#8863; &#x1f5c1;',
            //collapseAll: 'Collapse all',
            //expandAll: 'Expand all',
            collapsed: false,
        });
        lay.addTo(map);
        document.addEventListener("DOMContentLoaded", function () {
            // set new Layers List height which considers toggle icon
            function newLayersListHeight() {
                var layerScrollbarElement = document.querySelector('.leaflet-control-layers-scrollbar');
                if (layerScrollbarElement) {
                    var layersListElement = document.querySelector('.leaflet-control-layers-list');
                    var originalHeight = layersListElement.style.height
                        || window.getComputedStyle(layersListElement).height;
                    var newHeight = parseFloat(originalHeight) - 50;
                    layersListElement.style.height = newHeight + 'px';
                }
            }
            var isLayersListExpanded = true;
            var controlLayersElement = document.querySelector('.leaflet-control-layers');
            var toggleLayerControl = document.querySelector('.leaflet-control-layers-toggle');
            // toggle Collapsed/Expanded and apply new Layers List height
            toggleLayerControl.addEventListener('click', function () {
                if (isLayersListExpanded) {
                    controlLayersElement.classList.remove('leaflet-control-layers-expanded');
                } else {
                    controlLayersElement.classList.add('leaflet-control-layers-expanded');
                }
                isLayersListExpanded = !isLayersListExpanded;
                newLayersListHeight()
            });
            // apply new Layers List height if toggle layerstree
            if (controlLayersElement) {
                controlLayersElement.addEventListener('click', function (event) {
                    var toggleLayerHeaderPointer = event.target.closest('.leaflet-layerstree-header-pointer span');
                    if (toggleLayerHeaderPointer) {
                        newLayersListHeight();
                    }
                });
            }
            // Collapsed/Expanded at Start to apply new height
            setTimeout(function () {
                toggleLayerControl.click();
            }, 10);
            setTimeout(function () {
                toggleLayerControl.click();
            }, 10);
            // Collapsed touch/small screen
            var isSmallScreen = window.innerWidth < 650;
            if (isSmallScreen) {
                setTimeout(function () {
                    controlLayersElement.classList.remove('leaflet-control-layers-expanded');
                    isLayersListExpanded = !isLayersListExpanded;
                }, 500);
            }
        });
        setBounds();
        map.addControl(new L.Control.Search({
            layer: layer_StreetAxesSPEV_11,
            initial: false,
            hideMarkerOnCollapse: true,
            propertyName: 'RueFR'}));
        if (typeof url === 'undefined') {
            document.getElementsByClassName('search-button')[0].className += ' fa fa-binoculars';
        } else {
            document.getElementsByClassName('search-button')[1].className += ' fa fa-binoculars';
        }
        resetLabels([layer_Pointsdintervention_14]);
        map.on("zoomend", function () {
            resetLabels([layer_Pointsdintervention_14]);
        });
        map.on("layeradd", function () {
            resetLabels([layer_Pointsdintervention_14]);
        });
        map.on("layerremove", function () {
            resetLabels([layer_Pointsdintervention_14]);
        });
    </script>

    <script>
        let MyControlClass = L.Control.extend({
            options: {
                position: 'topleft'
            },

            onAdd: function (map) {
                var div = L.DomUtil.create('div', 'leaflet-bar my-control');

                var myButton = L.DomUtil.create('button', 'my-button-class', div);
                myButton.innerHTML = 'carte NL';
                L.DomEvent.on(myButton, 'click', function () {
                    window.open("indexNL.html");
                    window.close();
                }, this);
                return div;
            },

            onRemove: function (map) {
            }
        });
        let myControl = new MyControlClass().addTo(map);
    </script>
</body>

</html>
